# Just Enough Administration (JEA)
Just Enough Administration (JEA) — это технология безопасности, позволяющая делегировать администрирование в отношении всего, чем можно управлять через PowerShell.
JEA позволяет сделать следующее:
- **Уменьшить число администраторов на компьютерах**, используя виртуальные учетные записи, которые допускают выполнение привилегированных действий от имени обычных пользователей.
- **Ограничить доступные пользователям действия**, указав, какие командлеты, функции и внешние команды могут выполнять пользователи.
- **Лучше понять, что делают ваши пользователи**, используя детализированные записи с "подсматриванием" для команд, выполняемых пользователем за время сеанса.

Почему это важно?
Рассмотрим распространенный сценарий, когда DNS-серверы размещены совместно с контроллерами домена Active Directory.
Администраторам DNS требуются привилегии локального администратора для устранения проблем с DNS-сервером, но для этого их необходимо включить в высокопривилегированную группу безопасности администраторов домена.
При этом они получат контроль над всем доменом и доступ ко всем ресурсам на соответствующем компьютере.

При наличии JEA вы можете настроить для администраторов DNS роль, предоставляющую им доступ только к командам, которые нужны им для работы.
Это означает, что они смогут легко исправить поврежденный кэш DNS, но не получат права на Active Directory или возможность просматривать файловую систему и выполнять потенциально опасные сценарии.
Более того, если в сеанс JEA настроено использование одноразовых привилегированных виртуальных учетных записей, ваши администраторы DNS смогут подключаться к серверу по *непривилегированным* учетным данным и при этом выполнять привилегированные команды.

## Начало работы

### Установка
JEA разрабатывается параллельно с будущим выпуском Windows Server 2016; в предыдущих версиях Windows эта служба доступна вместе с обновлениями Windows Management Framework.
Текущая версия JEA доступна на следующих платформах:

**Windows Server**
- Windows Server 2016 Technical Preview 4 и более поздние версии
- Windows Server 2012 R2, 2012 и 2008 R2\* с установленным пакетом [Windows Management Framework 5.0](https://www.microsoft.com/en-us/download/details.aspx?id=50395)

**Клиент Windows**
- Windows 10 с установленным ноябрьским обновлением (1511)
- Windows Server 8.1, 8 и 7\* с установленным пакетом [Windows Management Framework 5.0](https://www.microsoft.com/en-us/download/details.aspx?id=50395)

\* Поддержка виртуальных учетных записей пользователей в сеансах JEA в Windows Server 2008 R2 или Windows 7 сейчас недоступна.


### Основные понятия
**Что такое JEA?**

JEA — это расширение [ограниченных конечных точек](http://blogs.technet.com/b/heyscriptingguy/archive/2014/03/31/introduction-to-powershell-endpoints.aspx) PowerShell, которое добавляет определения внутри ролей, виртуальные учетные записи и ряд других улучшений, упрощающих защиту конечных точек управления.
Конечная точка JEA состоит из файла конфигурации сеанса PowerShell, а также файлов возможностей ролей.

**Что такое файлы конфигурации сеансов и возможностей ролей?**

Файлы конфигурации сеансов PowerShell (PSSC) определяют, *кто* может подключаться к конечной точке PowerShell и *как* она будет настроена.
В этих файлах пользователи и группы безопасности сопоставляются с определенными ролями управления и настраиваются такие глобальные параметры, как виртуальные учетные записи и политики записи.
Файлы конфигурации сеансов зависят от конкретного компьютера, что позволяет вам при желании контролировать доступ отдельно на каждом компьютере.

Файлы возможностей ролей (PSRC) определяют, *что* могут делать в системе пользователи, которым назначена роль.
С их помощью можно ограничить командлеты, функции, поставщики и внешние программы, доступные пользователю в сеансе JEA.
Зачастую файлы возможностей ролей универсальны и не привязаны жестко к предоставляемой роли (администратор DNS, служба поддержки 1 уровня, аудит с инвентаризацией только для чтения и т. д.) и принадлежат к модулям PowerShell, что позволяет использовать их повторно в своей среде и передавать другим.

**Как JEA использует виртуальные учетные записи?**

В файле конфигурации сеанса PowerShell можно настроить сеансы JEA таким образом, чтобы использовались виртуальные учетные записи запуска от имени.
Виртуальные учетные записи — это одноразовые привилегированные учетные записи, создаваемые для определенного подключенного пользователя в соответствующем сеансе, в контексте которого выполняются команды пользователя.
Виртуальные учетные записи по умолчанию относятся к локальной группе безопасности "Администраторы", но при желании их можно настроить таким образом, чтобы они относились только к указанным вами группам безопасности.

### Изучите руководство по работе
Готовы создать свою первую конечную точку JEA?
Ознакомьтесь с [руководством по JEA](jea-uide.md), чтобы узнать, как создать, развернуть и использовать собственную конечную точку JEA.
Это руководство поможет вам быстро начать работу с предварительно созданной конечной точкой JEA и получить представление о работе с точки зрения конечного пользователя. В нем также описано создание конечной точки с нуля, чтобы объяснить конфигурации сеансов и возможности ролей.

### Начните создавать свои собственные конечные точки JEA
Создать конечную точку JEA легко — вам нужна только система с JEA и текстовый редактор (например, интегрированная среда сценариев PowerShell).
Начать лучше всего с каркасных файлов, используя `New-PSRoleCapabilityFile -Path <path>` и `New-PSSessionCapabilityFile -Path <Path>` без других аргументов.
Эти каркасные файлы содержат все необходимые поля конфигурации, а также полезные комментарии о том, для чего можно использовать каждое поле.

Чтобы дополнительно упростить создание конечных точек JEA, воспользуйтесь [вспомогательным приложением инструментария JEA](http://blogs.technet.com/b/privatecloud/archive/2015/12/20/introducing-the-updated-jea-helper-tool.aspx), графический пользовательский интерфейс которого позволяет создавать файлы конфигурации сеансов и возможностей ролей.
Оно поддерживает даже создание возможностей ролей на основе журналов PowerShell, позволяя начать с команд, которыми пользователи регулярно пользуются в своей работе.


<!--HONumber=Jun16_HO1-->


