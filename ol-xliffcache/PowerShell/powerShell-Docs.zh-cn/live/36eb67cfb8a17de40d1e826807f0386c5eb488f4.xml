{"nodes":[{"content":"Using DSC on Nano Server","pos":[2,26]},{"content":"Applies To: Windows PowerShell 5.0","pos":[30,64]},{"content":"<bpt id=\"p1\">**</bpt>DSC on Nano Server<ept id=\"p1\">**</ept> is an optional package in the <ph id=\"ph1\">`NanoServer\\Packages`</ph> folder of the Windows Server 2016 media.","pos":[66,181]},{"content":"The package can be installed when you create a VHD for a Nano Server by","pos":[182,253]},{"content":"specifying <bpt id=\"p1\">**</bpt>Microsoft-NanoServer-DSC-Package<ept id=\"p1\">**</ept> as the value of the <bpt id=\"p2\">**</bpt>Packages<ept id=\"p2\">**</ept> parameter of the <bpt id=\"p3\">**</bpt>New-NanoServerImage<ept id=\"p3\">**</ept> function.","pos":[254,385]},{"content":"For example, if you are creating a VHD for a virtual","pos":[386,438]},{"content":"machine, the command would look like the following:","pos":[439,490]},{"content":"For information about installing and using Nano Server, as well as how to manage Nano Server with PowerShell Remoting, see","pos":[695,817]},{"content":"Getting Started with Nano Server","pos":[820,852]},{"content":"DSC features available on Nano Server","pos":[919,956]},{"content":"Because Nano Server supports only a limited set of APIs compared to a full version of Windows Server, DSC on Nano Server does not have full functional parity with DSC running on","pos":[959,1136]},{"content":"full SKUs for the time being.","pos":[1139,1168]},{"content":"DSC on Nano Server is in active development and is not yet feature complete.","pos":[1169,1245]},{"content":"The following DSC features are currently available on Nano Server:","pos":[1249,1315]},{"content":"Both push and pull modes","pos":[1321,1345]},{"content":"All DSC cmdlets that exist on a full version of Windows Server, including the following:","pos":[1349,1437]},{"content":"Get-DscLocalConfigurationManager","pos":[1444,1476]},{"content":"Set-DscLocalConfigurationManager","pos":[1542,1574]},{"content":"Enable-DscDebug","pos":[1643,1658]},{"content":"Disable-DscDebug","pos":[1724,1740]},{"content":"Start-DscConfiguration","pos":[1813,1835]},{"content":"Stop-DscConfiguration","pos":[1901,1922]},{"content":"Get-DscConfiguration","pos":[1988,2008]},{"content":"Test-DscConfiguration","pos":[2074,2095]},{"content":"Publish-DscConfiguraiton","pos":[2167,2191]},{"content":"Update-DscConfiguration","pos":[2258,2281]},{"content":"Restore-DscConfiguration","pos":[2347,2371]},{"content":"Remove-DscConfigurationDocument","pos":[2437,2468]},{"content":"Get-DscConfigurationStatus","pos":[2534,2560]},{"content":"Invoke-DscResource","pos":[2626,2644]},{"content":"Find-DscResource","pos":[2710,2726]},{"content":"Get-DscResource","pos":[2792,2807]},{"content":"New-DscChecksum","pos":[2873,2888]},{"pos":[2956,3025],"content":"Compiling configurations (see <bpt id=\"p1\">[</bpt>DSC configurations<ept id=\"p1\">](configurations.md)</ept>"},{"pos":[3030,3151],"content":"<bpt id=\"p1\">**</bpt>Issue:<ept id=\"p1\">**</ept> Password encryption (see <bpt id=\"p2\">[</bpt>Securing the MOF File<ept id=\"p2\">](securemof.md)</ept>) during configuration compilation doesn't work."},{"pos":[3155,3249],"content":"Compiling metaconfigurations (see <bpt id=\"p1\">[</bpt>Configuring the Local Configuration Manager<ept id=\"p1\">](metaConfig.md)</ept>"},{"pos":[3254,3354],"content":"Running a resource under user context (see <bpt id=\"p1\">[</bpt>Running DSC with user credentials (RunAs)<ept id=\"p1\">](runAsUser.md)</ept>"},{"pos":[3359,3468],"content":"Class-based resources (see <bpt id=\"p1\">[</bpt>Writing a custom DSC resource with PowerShell classes<ept id=\"p1\">](authoringResourceClass.md)</ept>"},{"pos":[3473,3548],"content":"Debugging of DSC resources (see <bpt id=\"p1\">[</bpt>Debugging DSC resources<ept id=\"p1\">](debugresource.md)</ept>"},{"pos":[3555,3677],"content":"<bpt id=\"p1\">**</bpt>Issue:<ept id=\"p1\">**</ept> Doesn't work if a resource is using PsDscRunAsCredential (see <bpt id=\"p2\">[</bpt>Running DSC with user credentials<ept id=\"p2\">](runAsUser.md)</ept>"},{"content":"Specifying cross-node dependencies","pos":[3683,3717]},{"content":"Resource versioning","pos":[3750,3769]},{"pos":[3790,3914],"content":"Pull client (configurations &amp; resources) (see <bpt id=\"p1\">[</bpt>Setting up a pull client using configuration names<ept id=\"p1\">](pullClientConfigNames.md)</ept>"},{"content":"Partial configurations (pull &amp; push)","pos":[3920,3956]},{"content":"Reporting to pull server","pos":[3981,4005]},{"content":"MOF encryption","pos":[4028,4042]},{"content":"Event logging","pos":[4046,4059]},{"content":"Azure Automation DSC reporting","pos":[4063,4093]},{"content":"Resources that are fully functional","pos":[4097,4132]},{"content":"Archive","pos":[4138,4145]},{"content":"Environment","pos":[4172,4183]},{"content":"File","pos":[4214,4218]},{"content":"Log","pos":[4242,4245]},{"content":"ProcessSet","pos":[4267,4277]},{"content":"Registry","pos":[4283,4291]},{"content":"Script","pos":[4319,4325]},{"content":"WindowsPackageCab","pos":[4350,4367]},{"content":"WindowsProcess","pos":[4373,4387]},{"pos":[4420,4498],"content":"WaitForAll (see <bpt id=\"p1\">[</bpt>Specifying cross-node dependencies<ept id=\"p1\">](crossNodeDependencies.md)</ept>"},{"pos":[4504,4582],"content":"WaitForAny (see <bpt id=\"p1\">[</bpt>Specifying cross-node dependencies<ept id=\"p1\">](crossNodeDependencies.md)</ept>"},{"pos":[4588,4667],"content":"WaitForSome (see <bpt id=\"p1\">[</bpt>Specifying cross-node dependencies<ept id=\"p1\">](crossNodeDependencies.md)</ept>"},{"content":"Resources that are partially functional","pos":[4672,4711]},{"content":"Group","pos":[4717,4722]},{"content":"GroupSet","pos":[4746,4754]},{"pos":[4760,4867],"content":"<bpt id=\"p1\">**</bpt>Issue:<ept id=\"p1\">**</ept> Above resources fail if specific instance is called twice (running the same configuration twice)"},{"content":"Service","pos":[4876,4883]},{"content":"ServiceSet","pos":[4909,4919]},{"content":"<bpt id=\"p1\">**</bpt>Issue:<ept id=\"p1\">**</ept> Only works for starting/stopping (status) service.","pos":[4925,4986]},{"content":"Fails, if one tries to change other service attributes like startuptype, credentials, description etc..","pos":[4987,5090]},{"content":"The error thrown is similar to:","pos":[5091,5122]},{"content":"Cannot find type [management.managementobject]: verify that the assembly containing this type is loaded.","pos":[5129,5233]},{"content":"Resources that are not functional","pos":[5240,5273]},{"content":"User","pos":[5279,5283]},{"content":"DSC features not available on Nano Server","pos":[5309,5350]},{"content":"The following DSC features are not currently available on Nano Server:","pos":[5352,5422]},{"content":"Decrypting MOF document with encrypted password(s)","pos":[5426,5476]},{"content":"Pull Server--you cannot currently set up a pull server on Nano Server","pos":[5480,5549]},{"content":"Anything that is not in the list of feature works","pos":[5552,5601]},{"content":"Using custom DSC resources on Nano Server","pos":[5606,5647]},{"content":"Due to a limited sets of Windows APIs and CLR libraries available on Nano Server, DSC resources that work on the full CLR version of Windows do not necessarily work on Nano Server.","pos":[5650,5830]},{"content":"Complete end-to-end testing before deploying any DSC custom resources to a production environment.","pos":[5832,5930]},{"content":"See Also","pos":[5935,5943]},{"content":"Getting Started with Nano Server","pos":[5947,5979]}],"content":"# Using DSC on Nano Server\n\n> Applies To: Windows PowerShell 5.0\n\n**DSC on Nano Server** is an optional package in the `NanoServer\\Packages` folder of the Windows Server 2016 media. The package can be installed when you create a VHD for a Nano Server by\nspecifying **Microsoft-NanoServer-DSC-Package** as the value of the **Packages** parameter of the **New-NanoServerImage** function. For example, if you are creating a VHD for a virtual\nmachine, the command would look like the following:\n\n```powershell\nNew-NanoServerImage -Edition Standard -DeploymentType Guest -MediaPath f:\\ -BasePath .\\Base -TargetPath .\\Nano1\\Nano.vhd -ComputerName Nano1 -Packages Microsoft-NanoServer-DSC-Package\n```\n\nFor information about installing and using Nano Server, as well as how to manage Nano Server with PowerShell Remoting, see \n[Getting Started with Nano Server](https://technet.microsoft.com/en-us/library/mt126167.aspx).\n\n\n## DSC features available on Nano Server\n\n Because Nano Server supports only a limited set of APIs compared to a full version of Windows Server, DSC on Nano Server does not have full functional parity with DSC running on \n full SKUs for the time being. DSC on Nano Server is in active development and is not yet feature complete.\n \n The following DSC features are currently available on Nano Server: \n\n\n* Both push and pull modes\n\n* All DSC cmdlets that exist on a full version of Windows Server, including the following: \n  * [Get-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn407378.aspx)\n  * [Set-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn521621.aspx)   \n  * [Enable-DscDebug](https://technet.microsoft.com/en-us/library/mt517870.aspx)\n  * [Disable-DscDebug](https://technet.microsoft.com/en-us/library/mt517872.aspx)       \n  * [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx)\n  * [Stop-DscConfiguration](https://technet.microsoft.com/en-us/library/mt143542.aspx)\n  * [Get-DscConfiguration](https://technet.microsoft.com/en-us/library/dn407379.aspx)\n  * [Test-DscConfiguration](https://technet.microsoft.com/en-us/library/dn407382.aspx)      \n  * [Publish-DscConfiguraiton](https://technet.microsoft.com/en-us/library/mt517875.aspx) \n  * [Update-DscConfiguration](https://technet.microsoft.com/en-us/library/mt143541.aspx)\n  * [Restore-DscConfiguration](https://technet.microsoft.com/en-us/library/dn407383.aspx)\n  * [Remove-DscConfigurationDocument](https://technet.microsoft.com/en-us/library/mt143544.aspx)\n  * [Get-DscConfigurationStatus](https://technet.microsoft.com/en-us/library/mt517868.aspx)\n  * [Invoke-DscResource](https://technet.microsoft.com/en-us/library/mt517869.aspx)\n  * [Find-DscResource](https://technet.microsoft.com/en-us/library/mt517874.aspx)\n  * [Get-DscResource](https://technet.microsoft.com/en-us/library/dn521625.aspx)\n  * [New-DscChecksum](https://technet.microsoft.com/en-us/library/dn521622.aspx)    \n\n* Compiling configurations (see [DSC configurations](configurations.md))\n\n  **Issue:** Password encryption (see [Securing the MOF File](securemof.md)) during configuration compilation doesn't work.\n\n* Compiling metaconfigurations (see [Configuring the Local Configuration Manager](metaConfig.md))\n\n* Running a resource under user context (see [Running DSC with user credentials (RunAs)](runAsUser.md))\n\n* Class-based resources (see [Writing a custom DSC resource with PowerShell classes](authoringResourceClass.md))\n\n* Debugging of DSC resources (see [Debugging DSC resources](debugresource.md))\n  \n  **Issue:** Doesn't work if a resource is using PsDscRunAsCredential (see [Running DSC with user credentials](runAsUser.md))\n\n* [Specifying cross-node dependencies](crossNodeDependencies.md) \n\n* [Resource versioning](sxsResource.md)\n\n* Pull client (configurations & resources) (see [Setting up a pull client using configuration names](pullClientConfigNames.md))\n\n* [Partial configurations (pull & push)](partialConfigs.md)\n\n* [Reporting to pull server](reportServer.md) \n\n* MOF encryption\n\n* Event logging\n\n* Azure Automation DSC reporting\n\n* Resources that are fully functional\n  * [Archive](archiveResource.md)\n  * [Environment](environmentResource.md)\n  * [File](fileResource.md)\n  * [Log](logResource.md)\n  * ProcessSet\n  * [Registry](registryResource.md)\n  * [Script](scriptResource.md)\n  * WindowsPackageCab\n  * [WindowsProcess](windowsProcessResource.md)\n  * WaitForAll (see [Specifying cross-node dependencies](crossNodeDependencies.md))\n  * WaitForAny (see [Specifying cross-node dependencies](crossNodeDependencies.md))\n  * WaitForSome (see [Specifying cross-node dependencies](crossNodeDependencies.md))\n\n* Resources that are partially functional\n  * [Group](groupResource.md)\n  * GroupSet\n  \n  **Issue:** Above resources fail if specific instance is called twice (running the same configuration twice)\n  \n  * [Service](serviceResource.md)\n  * ServiceSet\n  \n  **Issue:** Only works for starting/stopping (status) service. Fails, if one tries to change other service attributes like startuptype, credentials, description etc.. The error thrown is similar to:\n  \n  *Cannot find type [management.managementobject]: verify that the assembly containing this type is loaded.*\n  \n* Resources that are not functional\n  * [User](userResource.md)\n  \n\n## DSC features not available on Nano Server\n\nThe following DSC features are not currently available on Nano Server:\n\n* Decrypting MOF document with encrypted password(s) \n* Pull Server--you cannot currently set up a pull server on Nano Server\n* Anything that is not in the list of feature works\n\n## Using custom DSC resources on Nano Server\n \nDue to a limited sets of Windows APIs and CLR libraries available on Nano Server, DSC resources that work on the full CLR version of Windows do not necessarily work on Nano Server. \nComplete end-to-end testing before deploying any DSC custom resources to a production environment.\n\n## See Also\n- [Getting Started with Nano Server](https://technet.microsoft.com/en-us/library/mt126167.aspx)"}