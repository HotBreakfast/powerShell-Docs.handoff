{"nodes":[{"content":"Pull Partial Configuration Naming Convention","pos":[11,55]},{"content":"Pull Partial Configuration Naming Convention","pos":[94,138]},{"content":"In the previous release, the naming convention for a partial configuration was the mof file name in the pull server /service should match the partial configuration name specified in the local configuration manger settings that in turn has to match the configuration name embedded in the MOF file.","pos":[139,435]},{"content":"See the snapshots below:- •   Local configuration settings which defines a partial configuration that a node is allowed to receive.","pos":[436,568]},{"content":"Sample metaconfiguration","pos":[572,596]},{"content":"•   Sample partial configuration definition","pos":[638,681]},{"content":"•   ‘ConfigurationName’ embedded in the generated MOF file.","pos":[931,990]},{"content":"Sample generated mof file","pos":[994,1019]},{"content":"•   FileName in the pull configuration repository","pos":[1060,1109]},{"content":"FileName in Configuration Repository","pos":[1114,1150]},{"content":"Azure Automation service name generated mof files as <ph id=\"ph1\">&lt;ConfigurationName&gt;</ph>.<ph id=\"ph2\">&lt;NodeName&gt;</ph>.mof.","pos":[1197,1285]},{"content":"So the configuration below will compile to PartialOne.Localhost.mof.","pos":[1286,1354]},{"content":"This made it impossible to pull one of your partial configuration from Azure automation service.","pos":[1357,1453]},{"content":"In WMF 5.1, partial configuration in the pull server/service can be named as <ph id=\"ph1\">&lt;ConfigurationName&gt;</ph>.<ph id=\"ph2\">&lt;NodeName&gt;</ph>.mof.","pos":[1702,1814]},{"content":"Moreover, if a machine is pulling a single configuration from a pull server/service then the configuration file on the pull server configuration repository can have any file name.","pos":[1815,1994]},{"content":"is naming flexibility allow you to manage your nodes are partially by Azure Automation Service, where some configuration for your node is coming from Azure Automation DSC and you have a partial configuration that you wanted to manage locally.","pos":[1995,2237]},{"content":"The metaconfiguration below will setup a node to be managed both locally as well as by Azure Automation Service.","pos":[2239,2351]}],"content":"---\ntitle: Pull Partial Configuration Naming Convention\nauthor:  jaimeo\ncontributor: ?\n---\n\n##Pull Partial Configuration Naming Convention\nIn the previous release, the naming convention for a partial configuration was the mof file name in the pull server /service should match the partial configuration name specified in the local configuration manger settings that in turn has to match the configuration name embedded in the MOF file. \nSee the snapshots below:-\n•   Local configuration settings which defines a partial configuration that a node is allowed to receive.\n\n![Sample metaconfiguration](../../images/MetaConfigPartialOne.png)\n\n•   Sample partial configuration definition \n\n```Powershell\nConfiguration PartialOne\n{\n    Node('localhost')\n    {\n        File test \n        {\n            DestinationPath = \"$env:TEMP\\partialconfigexample.txt\"\n            Contents = 'Partial Config Example'\n        }\n    }\n}\nPartialOne\n```\n\n•   ‘ConfigurationName’ embedded in the generated MOF file.\n\n![Sample generated mof file](../../images/PartialGeneratedMof.png)\n\n•   FileName in the pull configuration repository \n\n![FileName in Configuration Repository](../../images/PartialInConfigRepository.png)\n\nAzure Automation service name generated mof files as <ConfigurationName>.<NodeName>.mof. So the configuration below will compile to PartialOne.Localhost.mof.  \nThis made it impossible to pull one of your partial configuration from Azure automation service.\n\n```Powershell\nConfiguration PartialOne\n{\n    Node('localhost')\n    {\n        File test \n        {\n            DestinationPath = \"$env:TEMP\\partialconfigexample.txt\"\n            Contents = 'Partial Config Example'\n        }\n    }\n}\nPartialOne\n```\n\nIn WMF 5.1, partial configuration in the pull server/service can be named as <ConfigurationName>.<NodeName>.mof. Moreover, if a machine is pulling a single configuration from a pull server/service then the configuration file on the pull server configuration repository can have any file name. is naming flexibility allow you to manage your nodes are partially by Azure Automation Service, where some configuration for your node is coming from Azure Automation DSC and you have a partial configuration that you wanted to manage locally.\n\nThe metaconfiguration below will setup a node to be managed both locally as well as by Azure Automation Service.\n\n```Powershell\n  [DscLocalConfigurationManager()]\n   Configuration RegistrationMetaConfig\n   {\n        Settings\n        {\n            RefreshFrequencyMins = 30;\n            RefreshMode = \"PULL\";            \n        }\n\n        ConfigurationRepositoryWeb web\n        {\n            ServerURL =  $endPoint\n            RegistrationKey = $registrationKey\n            ConfigurationNames = $configurationName\n        }\n\n        # Partial configuration managed by Azure Automation Service.\n        PartialConfiguration PartialCOnfigurationManagedByAzureAutomation\n        {\n            ConfigurationSource = \"[ConfigurationRepositoryWeb]Web\"   \n        }\n    \n        # This partial configuration is managed locally.\n        PartialConfiguration OnPremConfig\n        {\n            RefreshMode = \"PUSH\"\n            ExclusiveResources = @(\"Script\")\n        }\n\n   }\n\n   RegistrationMetaConfig\n   slcm -Path .\\RegistrationMetaConfig -Verbose\n ```\n\n\n"}