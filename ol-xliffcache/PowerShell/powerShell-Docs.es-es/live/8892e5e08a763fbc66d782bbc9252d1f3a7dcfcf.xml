{"nodes":[{"content":"on blacklisting","pos":[156,171]},{"content":"On Blacklisting","pos":[208,223]},{"content":"After playing around with JEA, you may be wondering if it is possible to blacklist commands.","pos":[224,316]},{"content":"This is an understandable request, but it is not currently planned for JEA for the following reasons:","pos":[317,418]},{"content":"We designed JEA to limit operators to only the actions they need to do.","pos":[424,495]},{"content":"A blacklist is the opposite.","pos":[496,524]},{"content":"PowerShell command authors did not design PowerShell commands with the JEA in mind.","pos":[530,613]},{"content":"On a fresh install of Windows Server 2016, there are about 1520 commands immediately available.","pos":[614,709]},{"content":"The threat models for these commands did not include the possibility that a user would be running commands as a more privileged account.","pos":[710,846]},{"content":"For example, certain commands allow for code injection by design (e.g. Add-Type and Invoke-Command in the core PowerShell module).","pos":[847,977]},{"content":"JEA can warn you when you expose the specific commands we know about, but we have not re-assessed every other command in Windows based on the new threat model.","pos":[978,1137]},{"content":"You must understand the capabilities of the commands you exposing through JEA.","pos":[1138,1216]},{"content":"Furthermore, even if JEA blocked all commands with code-injection vulnerabilities, there is no guarantee that a malicious user would not be able to carry out a blacklisted action with another related command.","pos":[1224,1432]},{"content":"Unless you understand all of the commands that you are exposing, it is impossible for you to guarantee that a certain action is not possible.","pos":[1433,1574]},{"content":"The burden is on you to understand what commands you are exposing, whether they are using a whitelist or a blacklist.","pos":[1575,1692]},{"content":"The number of commands a blacklist would expose is unmanageable, so JEA is implemented using whitelists instead.","pos":[1693,1805]}],"content":"---\ndescription:  \nmanager:  dongill\nms.topic:  article\nauthor:  jpjofre\nms.prod:  powershell\nkeywords:  powershell,cmdlet,jea\nms.date:  2016-06-22\ntitle:  on blacklisting\nms.technology:  powershell\n---\n\n### On Blacklisting\nAfter playing around with JEA, you may be wondering if it is possible to blacklist commands.\nThis is an understandable request, but it is not currently planned for JEA for the following reasons:\n\n1.  We designed JEA to limit operators to only the actions they need to do.\nA blacklist is the opposite.\n\n2.  PowerShell command authors did not design PowerShell commands with the JEA in mind.\nOn a fresh install of Windows Server 2016, there are about 1520 commands immediately available.\nThe threat models for these commands did not include the possibility that a user would be running commands as a more privileged account.\nFor example, certain commands allow for code injection by design (e.g. Add-Type and Invoke-Command in the core PowerShell module).\nJEA can warn you when you expose the specific commands we know about, but we have not re-assessed every other command in Windows based on the new threat model.\nYou must understand the capabilities of the commands you exposing through JEA.  \n\n3.  Furthermore, even if JEA blocked all commands with code-injection vulnerabilities, there is no guarantee that a malicious user would not be able to carry out a blacklisted action with another related command.\nUnless you understand all of the commands that you are exposing, it is impossible for you to guarantee that a certain action is not possible.\nThe burden is on you to understand what commands you are exposing, whether they are using a whitelist or a blacklist.\nThe number of commands a blacklist would expose is unmanageable, so JEA is implemented using whitelists instead.\n\n"}